# ğŸ“ Project Structure Explained (Electron Forge + Webpack + TS)

---

## ğŸ§  Overview

This template sets up an Electron app with:

* **Electron Forge** for scaffolding and packaging
* **Webpack** for bundling and HMR
* **TypeScript** for type-safe development
* **Preload scripts** for secure communication between renderer and Node

---

## ğŸŒ³ Folder Tree

```plaintext
.
â”œâ”€â”€ .webpack/                  â† Auto-generated by Webpack builds
â”‚   â”œâ”€â”€ main/                  â† Compiled output for Electron's main process
â”‚   â””â”€â”€ renderer/              â† Compiled output for the renderer process
â”‚       â””â”€â”€ main_window/
â”œâ”€â”€ src/                       â† Your actual source code (TS/HTML/CSS)
â”‚   â”œâ”€â”€ index.css              â† Renderer styles
â”‚   â”œâ”€â”€ index.html             â† Base HTML file for the renderer
â”‚   â”œâ”€â”€ index.ts               â† Electron main process entry point
â”‚   â”œâ”€â”€ preload.ts            â† Preload script for secure API bridging
â”‚   â””â”€â”€ renderer.ts           â† Frontend JavaScript (renderer process)
â”‚
â”œâ”€â”€ forge.config.ts           â† Main Electron Forge configuration file
â”œâ”€â”€ webpack.main.config.ts    â† Webpack config for the main process
â”œâ”€â”€ webpack.renderer.config.tsâ† Webpack config for the renderer process
â”œâ”€â”€ webpack.rules.ts          â† Rules for how Webpack handles different file types
â”œâ”€â”€ webpack.plugins.ts        â† Shared Webpack plugins
â”œâ”€â”€ tsconfig.json             â† TypeScript compiler configuration
â”œâ”€â”€ package.json              â† Project metadata, scripts, dependencies
â”œâ”€â”€ .gitignore, .eslintrc.json, README.md â† Dev tooling
```

---

## ğŸ” File-by-File Explanation

### ğŸ“ `.webpack/`

> âš ï¸ **Auto-generated by Webpack** â€” no need to edit manually.

* `main/` â†’ Output of your **main process** TypeScript after Webpack compiles it.
* `renderer/main_window/` â†’ Output of your **renderer process** (HTML + JS + Preload).

---

### ğŸ“ `src/` â€“ ğŸ’¡ Your App Code

#### `index.ts` â€“ **Main Process Entry Point**

* Runs first when the app starts.
* Sets up the Electron app, creates windows.
* Uses `BrowserWindow`, `app.on('ready')`, etc.

#### `renderer.ts` â€“ **Renderer Process (Frontend UI logic)**

* This runs inside the Electron window (like a browser page).
* Think of this as your frontendâ€™s main `.ts` or `.js` file.
* Typically responsible for interacting with DOM and preload API.

#### `preload.ts` â€“ **Preload Script (Bridge between Node & Renderer)**

* Loaded before `renderer.ts`.
* Provides **secure, limited access** to Node.js APIs using `contextBridge`.
* Prevents direct Node access in renderer for security (sandboxing).

```ts
// preload.ts example
contextBridge.exposeInMainWorld('myAPI', {
  version: () => ipcRenderer.invoke('app-version'),
});
```

#### `index.html` â€“ The base HTML for your renderer

* Connected to the `renderer.ts` bundle.
* Usually includes root divs, meta tags, etc.

#### `index.css` â€“ Your appâ€™s styling

* Imported into `renderer.ts` (via Webpack rules for CSS).

---

### âš™ï¸ `forge.config.ts` â€“ **Electron Forge Config**

Defines:

* Entry points for Webpack
* Build settings
* Makers for packaging (.exe, .dmg)
* Plugin settings (like Webpack Plugin)

```ts
plugins: [
  new WebpackPlugin({
    mainConfig: './webpack.main.config.ts',
    renderer: { config: './webpack.renderer.config.ts', entryPoints: [...] }
  })
]
```

---

### âš™ï¸ `webpack.main.config.ts` â€“ **Webpack Config for Main Process**

* Bundles the main Electron process (`src/index.ts`).
* Handles TypeScript via `ts-loader`.

### âš™ï¸ `webpack.renderer.config.ts` â€“ **Webpack Config for Renderer**

* Bundles the frontend (`src/renderer.ts` + `index.html`).
* Includes style loaders, HMR, and plugin for HTML generation.

### âš™ï¸ `webpack.rules.ts` â€“ **Shared Module Rules**

* Contains loaders for handling:

  * TypeScript
  * CSS
  * Images/fonts/etc.

### âš™ï¸ `webpack.plugins.ts` â€“ **Shared Plugins**

* Common plugins like:

  * `HtmlWebpackPlugin` â€“ injects renderer JS into `index.html`
  * `ForkTsCheckerWebpackPlugin` â€“ fast TypeScript linting
  * `DefinePlugin` â€“ for defining global vars at compile time

---

### ğŸ“¦ `tsconfig.json` â€“ TypeScript Configuration

Specifies:

* Target JS version (e.g., ES2020)
* Output settings
* Type checking rules
* Module resolution (`"baseUrl": "./src"` etc.)

---

### ğŸ“œ `package.json` â€“ Project Scripts & Dependencies

Key sections:

* `scripts`: Start, build, package
* `devDependencies`: Forge, Webpack, TypeScript, loaders, plugins
* `config.forge`: Alternative to `forge.config.ts` if inlined

---

### ğŸ§¹ `.gitignore`, `.eslintrc.json`, `readme.md`

* **.gitignore**: Ignore node\_modules, build files
* **ESLint config**: Enforce code standards
* **README.md**: Useful for community docs

---

## ğŸ§  Conceptual Flow of the App

```plaintext
START:
npm start â”€â–¶ electron-forge start
           â”œâ”€â–¶ Runs Webpack in dev mode (both main + renderer)
           â”œâ”€â–¶ Compiles TypeScript
           â”œâ”€â–¶ Starts Electron app (src/index.ts)
               â”œâ”€â–¶ Loads HTML (src/index.html)
               â”œâ”€â–¶ Runs preload.ts before renderer
               â””â”€â–¶ Renderer process executes renderer.ts (browser-like code)
```

---

## âœ… Benefits of This Template for Teams and Teaching

| Benefit                        | Why It Matters                                   |
| ------------------------------ | ------------------------------------------------ |
| âœ… Clean separation of concerns | Main, preload, and renderer are modular          |
| âœ… Type-safe & secure           | Thanks to TypeScript + contextBridge             |
| âœ… Fast dev with HMR            | Webpack DevServer + ForkTsChecker + CSS loaders  |
| âœ… Easy packaging               | Forge handles `.exe`, `.dmg`, etc. automatically |
| âœ… Beginner-friendly            | Clear structure, powerful defaults               |
| âœ… Scalable                     | Can grow with more features, windows, etc.       |
| âœ… Community support            | Forge + Webpack + TS are widely used             |
| âœ… Documentation ready          | This README serves as a guide for new devs       |


---


# âœ… Guide to Creating `.exe` from Electron Forge + Webpack + TypeScript Template

## ğŸ“ Project Structure Overview (after setup)

```
your-app/
â”œâ”€â”€ forge.config.ts               # Forge + Webpack plugin setup
â”œâ”€â”€ webpack.main.config.ts        # Main process bundling config
â”œâ”€â”€ webpack.renderer.config.ts    # Renderer bundling config
â”œâ”€â”€ src/                          # Your app code
â”‚   â”œâ”€â”€ index.ts                  # Electron main process entry
â”‚   â”œâ”€â”€ preload.ts                # Preload scripts
â”‚   â”œâ”€â”€ renderer.ts               # Renderer (browser window) logic
â”‚   â”œâ”€â”€ index.html                # App HTML
â”œâ”€â”€ out/make/                     # ğŸ”¥ Output .exe and zip live here
â””â”€â”€ ...
```

---

## ğŸ›  1. **Install Electron Forge with Webpack & TS Template**

If not already done:

```bash
npx create-electron-app my-app --template=webpack-typescript
cd my-app
```

---

## âš™ï¸ 2. **Edit `forge.config.ts` to Configure Makers**

Ensure your `forge.config.ts` contains **Squirrel and ZIP** makers:

```ts
import type { ForgeConfig } from '@electron-forge/shared-types';
import { MakerSquirrel } from '@electron-forge/maker-squirrel';
import { MakerZIP } from '@electron-forge/maker-zip';
import { WebpackPlugin } from '@electron-forge/plugin-webpack';
import { AutoUnpackNativesPlugin } from '@electron-forge/plugin-auto-unpack-natives';

import { mainConfig } from './webpack.main.config';
import { rendererConfig } from './webpack.renderer.config';

const config: ForgeConfig = {
  packagerConfig: {
    asar: true,
    icon: 'src/assets/icon.ico', // âš ï¸ Add your icon here (Windows requires .ico)
  },
  rebuildConfig: {},
  makers: [
    new MakerSquirrel({}),
    new MakerZIP(),
  ],
  plugins: [
    new AutoUnpackNativesPlugin(),
    new WebpackPlugin({
      mainConfig,
      renderer: {
        config: rendererConfig,
        entryPoints: [
          {
            html: './src/index.html',
            js: './src/renderer.ts',
            name: 'main_window',
            preload: {
              js: './src/preload.ts',
            },
          },
        ],
      },
    }),
  ],
};

export default config;
```

> ğŸ§  **Important:**
>
> * `icon: 'src/assets/icon.ico'` â€” must be a valid `.ico` file or else `.exe` creation will fail.
> * Keep icon path absolute or relative to project root.

---

## ğŸ§± 3. **Bundle the Application**

Build your app using:

```bash
npm run make
```

This will:

* Run Webpack
* Package your app into a distributable
* Generate `.exe` and `.zip` files in `/out/make/`

---

## âœ… 4. **Output After Success**

Electron Forge will show:

```
âœ” Making a squirrel distributable for win32/x64
âœ” Making a zip distributable for win32/x64
Artifacts available at: D:\your-app\out\make
```

### You'll find:

```
out/make/
â”œâ”€â”€ squirrel.windows/x64/
â”‚   â””â”€â”€ Setup.exe    ğŸ‘ˆ Your installer
â”œâ”€â”€ zip/win32/x64/
â”‚   â””â”€â”€ your-app-win32-x64.zip
```

---

## âŒ 5. **Disable DevTools in Production**

If DevTools open on `.exe` launch, disable them in `src/index.ts` (or `main.ts`):

```ts
mainWindow.webContents.openDevTools(); // âŒ REMOVE or COMMENT this line
```

---

## ğŸ“¦ 6. **Ship Your App**

* Share `Setup.exe` (installer) or the `.zip` version
* Optionally, use GitHub Releases or S3 for hosting
* You can sign your app (optional for Windows SmartScreen)

---

## ğŸ”§ Optional: Add Custom Installer Options

You can customize `MakerSquirrel`:

```ts
new MakerSquirrel({
  name: 'my_app',
  setupIcon: 'src/assets/icon.ico',
  shortcutName: 'MyApp',
}),
```

---

## ğŸ“Œ Notes

| Feature                  | Tool                    | Required File                                     |
| ------------------------ | ----------------------- | ------------------------------------------------- |
| Windows Installer (.exe) | `MakerSquirrel`         | `icon.ico`                                        |
| Webpack Build            | `plugin-webpack`        | `webpack.main.config.ts` and `renderer.config.ts` |
| TS Support               | Provided out-of-the-box | `tsconfig.json`                                   |
| Output Folder            | `out/make/`             | Auto-created                                      |

---

## ğŸ Final Checklist

âœ… Electron Forge Webpack + TS Template
âœ… DevTools disabled in production
âœ… Icon provided in `.ico` format
âœ… `.exe` generated and tested
âœ… App runs without issues
